!function(a){a(function(){function b(){var b=a(".section");b.each(function(){var b=a(this);var c=b.find(".total");var d=c.find(".monthly-total");var e=b.find(".field");var f=0;e.each(function(){var b=a(this);var c=b.find(".amount"),d=parseFloat(c.find("input").val());var e=b.find(".period"),g=parseFloat(e.find("select").val());var h=b.find(".monthly-total"),i=parseFloat(h.text());c.find("input").val(d.toFixed(2));var j=d*g;h.text(j.toFixed(2));i=j;f+=i});d.text(f.toFixed(2));e.each(function(){var b=a(this);var c=b.find(".monthly-total"),d=parseFloat(c.text());var e=b.find(".percentage"),g=parseFloat(e.text());if(f!=0){var h=d/f*100;e.text(h.toFixed(1));g=h}else{e.text("-")}})})}jQuery.fn.budget=function(){return this.each(function(){var c=a(this);var d=c.find(".section-title");var e=c.find(".section-labels");var f=c.find(".section");var g=c.find(".field");var h=g.find("input, select");b();h.bind("change",b);d.addClass("collapsed").first().removeClass("collapsed");f.addClass("hidden").first().removeClass("hidden");d.click(function(b){b.preventDefault();var d=a(this).data("for"),e=c.find("#"+d);e.toggleClass("hidden");a(this).toggleClass("collapsed")})})}})}(window.jQuery);!function(a){a(function(){a(document).ready(function(){a("#budget-table").budget()})})}(window.jQuery)